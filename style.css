:root {
  --tile-w: 120px;     /* shingle width */
  --tile-h: 240px;     /* shingle height */
  --overlap: 40px;     /* vertical overlap */
}

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #f5f5f5;
}

.facade {
  display: grid;
  grid-template-columns: repeat(auto-fill, var(--tile-w));
  grid-auto-rows: var(--tile-h);
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* base shingle with vertical grain */
.shingle {
  position: relative;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.06) 0px,
      rgba(255, 255, 255, 0.06) 2px,
      transparent 2px,
      transparent 6px
    ),
    linear-gradient(
      to bottom,
      hsl(35, 35%, 70%) 0%,
      hsl(35, 35%, 65%) 100%
    );
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, background 0.3s ease;
}

/* subtle per-tile variation */
.shingle:nth-child(3n) {
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.06) 0px,
      rgba(255, 255, 255, 0.06) 2px,
      transparent 2px,
      transparent 6px
    ),
    linear-gradient(
      to bottom,
      hsl(35, 30%, 68%) 0%,
      hsl(35, 30%, 63%) 100%
    );
}
.shingle:nth-child(4n) {
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.05) 0px,
      rgba(255, 255, 255, 0.05) 3px,
      transparent 3px,
      transparent 7px
    ),
    linear-gradient(
      to bottom,
      hsl(35, 25%, 72%) 0%,
      hsl(35, 25%, 66%) 100%
    );
}

/* top shadow for overlap illusion */
.shingle::before {
  content: "";
  position: absolute;
  top: calc(-1 * var(--overlap));
  left: 0;
  right: 0;
  height: var(--overlap);
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0));
  pointer-events: none;
}

/* vertical overlap */
.shingle {
  margin-top: calc(-1 * var(--overlap));
}
.facade > .shingle:nth-child(-n + 10) {
  margin-top: 0; /* first row has no overlap */
}

/* stagger every other row horizontally */
.facade > .shingle:nth-child(14n+8),
.facade > .shingle:nth-child(14n+9),
.facade > .shingle:nth-child(14n+10),
.facade > .shingle:nth-child(14n+11),
.facade > .shingle:nth-child(14n+12),
.facade > .shingle:nth-child(14n+13),
.facade > .shingle:nth-child(14n+14) {
  transform: translateX(calc(var(--tile-w) / 2));
}

/* hover effect for 'page' shingles */
.shingle.page:hover {
  transform: translateX(calc(var(--tile-w) / 2)) translateY(5px) rotateZ(-3deg);
  z-index: 2;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.08) 0px,
      rgba(255, 255, 255, 0.08) 2px,
      transparent 2px,
      transparent 6px
    ),
    linear-gradient(
      to bottom,
      hsl(30, 40%, 72%) 0%,
      hsl(30, 40%, 67%) 100%
    );
}
